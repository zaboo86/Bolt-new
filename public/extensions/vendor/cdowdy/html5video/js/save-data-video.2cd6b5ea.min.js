!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.saveData=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,a={},r=document.querySelectorAll(".loadVideo"),n=document.createDocumentFragment(),i=function(t,e,a){if(t)for(var r=0;r<e.length;r++)a.classList.add(e[r])},d=function(t,e,a,r){t&&e.setAttribute(a,r)},o=function(t){var e,a=t.getAttribute("data-save"),r=JSON.parse(a);for(e in r)if(r.hasOwnProperty(e)){var i=document.createElement("source");i.src=e,i.type="video/"+r[e],n.appendChild(i)}},s=function(t,e){var a=t.getAttribute("data-tracks"),r=JSON.parse(a),i=Object.keys(r);i.forEach(function(t){var e=document.createElement("track");for(var a in r[t])r[t].hasOwnProperty(a)&&(e.kind=r[t].kind,e.srclang=r[t].srclang,e.label=r[t].label,e.src=r[t].src,r[t]["default"]&&(e["default"]="default"));n.appendChild(e)})},u=function(t,e){var a=t.target,r=a.parentNode,u=document.createElement("video"),c=a.getAttribute("data-id"),l=a.getAttribute("data-class"),f=a.getAttribute("data-attribs"),p=a.getAttribute("data-preload"),b=a.getAttribute("data-width-height"),g=a.getAttribute("data-poster"),h=a.getAttribute("data-tracks"),v=JSON.parse(l),m=JSON.parse(f),A=JSON.parse(b);d(c,u,"id",c),d(p,u,"preload",p),d(g,u,"poster",g);for(var y=0;y<m.length;y++)d(f,u,m[y],"");i(l,v,u),b&&(d(A[0],u,"width",A[0]),d(A[1],u,"height",A[1])),o(a),h&&s(a,u),u.appendChild(n),a.setAttribute("hidden",""),a.setAttribute("style","display:none"),r.appendChild(u),a.previousElementSibling.setAttribute("hidden","")},c=function(t){t.preventDefault(),u(t)};return a.destroy=function(){e&&(t.document.removeEventListener("click",c,!1),e=null)},a.init=function(t){a.destroy();for(var e=0,n=r.length;e<n;e++)r[e].addEventListener("click",c,!1)},a}),saveData.init();