extends:
###
### Bolt Forms
###

## Debugging
#
# Global debugging on/off switch
#
# If enabled, ALL forms will go into debug mode.
# NOTE: setting the debug on a specific form will override these global settings
# — specific for and to that form. It is considered best practice to use only
# this global setting.
debug:
    enabled: false
    address: noreply@example.com

## CSRF protection
#
# Enable CSRF protection for forms. You should leave this set to 'true', unless
# you know what you're doing.
csrf: true

# Global templates used for rendering forms and emails.
#
# You can find assorted templates to copy and modify in the templates/
# directory. Simply copy them to a directory of your choosing in your theme
# and set the template you want to override.
#
# More information on available template overrides can be found in the
# Templates section of docs.
#
# NOTE: All paths are relative of your running theme.
#
# e.g. You created your templates in the `extensions/boltforms/` directory
# inside your theme, you would use similar to:
#
#templates:
#    form: extensions/boltforms/form.twig
#    email: extensions/boltforms/email.twig
#    subject: extensions/boltforms/subject.twig
#    files: extensions/boltforms/file_browser.twig

## reCAPTCHa set up
#
# NOTE: You can get your keys from https://www.google.com/recaptcha/admin
# * `public_key` key will be labeled "Site key"
# * `private_key` key will be labeled "Secret key"
#
#recaptcha:
#    enabled: false
#    label: "Please enter the reCaptcha text to prove you're a human"
#    public_key: ''
#    private_key: ''
#    error_message: "The CAPTCHA wasn't entered correctly. Please try again."
#    theme: clean

## File Uploads
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ SECURITY WARNING ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# Handling file uploads is a very common attack vector used to compromise (hack)
# a server.
#
# BoltForms does a few things to help increase slightly the security of handling
# file uploads.
#
# Firstly, the directory that you specify for "base_directory" below should NOT
# be an route accessible to the outside world. We provide a special route should
# you wish to make the files browsable after upload.
#
# Secondly, is the "filename_handling" parameter. If an attacker knows the
# uploaded file name, this can make their job a bit easier. So we provide three
# options, e.g. uploading the file kitten.jpg:
#
# -------------------------------------
# | Setting | Resulting file name     |
# |-----------------------------------|
# | prefix  | kitten.Ze1d352rrI3p.jpg |
# | suffix  | kitten.jpg.Ze1d352rrI3p |
# | keep    | kitten.jpg              |
# -------------------------------------
#
# We recommend "suffix" as this is the most secure, alternatively "prefix" will
# aid in file browsing. However "keep" should always be used with caution!
#
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ SECURITY WARNING ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
uploads:
    enabled: true                                 # The global on/off switch for upload handling
    base_directory: files/2018-06/             # Outside web root and writable by the web server's user
    filename_handling: keep                      # Can be either "prefix", "suffix", or "keep"
    management_controller: true                  # Enable a controller to handle browsing and downloading of uploaded files

## Example 1
#
# Contact Form
contact:
    submission:
        ajax: false                   # Use AJAX for form submission and handling
    notification:
        enabled: true
        debug: false
        debug_address: name@example.com # Email address used when debug mode is enabled
        debug_smtp: true
        subject: Your message was submitted
        from_name: name                 # Email addresses and names can be either the
        from_email: email               # name of a field below or valid text.
        replyto_email: email            #
        replyto_name: name              # NOTE: Email addresses must be valid
        to_name: My Site                #
        to_email: zaboo86@gmx.net   #
    feedback:
        success: Message submission successful
        error: There are errors in the form, please fix before trying to resubmit
    fields:
        name:
            type: text
            options:
                required: true
                label: Name
                attr:
                    placeholder: Your name...
                constraints: [ NotBlank, { Length: { 'min': 3, 'max': 128 } } ]
        email:
            type: email
            options:
                required: true
                label: Email address
                attr:
                    placeholder: Your email...
                constraints: [ NotBlank, Email ]
        message:
            type: textarea
            options:
                required: true
                label: Your message
                attr:
                    placeholder: Your message...
                    class: myclass
        needreply:
            type: choice
            options:
                required: false
                label: Do you want us to contact you back?
                choices: { 'Yes': 'yes', 'No': 'no' }
                multiple: false
        submit:
            type: submit
            options:
                label: Submit my message »
                attr:
                    class: button primary

## Example 2
#
# Example Showcase Form
showcase:
    submission:
        ajax: false                   # Use AJAX for form submission and handling
#    notification:
#        enabled: true
#        debug: false
#        debug_address: name@example.com # Email address used when debug mode is enabled
#        debug_smtp: true
#        subject: "[TESTING] A showcase form was just submitted"
#        from_name: name               # A field name, specified in the fields: section below
#        replyto_email: email          # A field name, specified in the fields: section below
#        replyto_name: name            # A field name, specified in the fields: section below
#        from_email: email             # A field name, specified in the fields: section below
#        to_name: My Site              # Must be valid text
#        to_email: noreply@example.com # Must be valid email address
#        cc_name: Info Person
#        cc_email: info@example.com
#        bcc_name: Manager Person
#        bcc_email: manager@example.com
#        attach_files: false
    templates:                      # Over ride the global Twig templates for this form
        form: extensions/boltforms/form.twig
        email: extensions/boltforms/email.twig
        subject: extensions/boltforms/subject.twig
        files: extensions/boltforms/file_browser.twig
    feedback:
        success: Form submission sucessful
        error: There are errors in the form, please fix before trying to resubmit
        redirect:
            target: page/another-page  # A page path, or URL
            query: [ name, email ]     # Optional keys for the GET parameters
    database:
        contenttype:
           name: tutorials  # ContentType record to create
           field_map:
               email: ~                # Do not try to save this field to the ContentType
               message: 'sent_message' # Form field "message" will be saved to the ContentType field "sent_message"
        table: bolt_secret_table    # Specific database table to write to
    uploads:
        subdirectory: showcase_files # The (optional) subdirectory for uploaded files
    recaptcha: false    # This setting is optional to use the overall default, false is the only valid value to disable for this form only.
    fields:
        subject:
            type: text
            options:
                required: true
                label: Subject of your message
                attr:
                    placeholder: Just a quick message...
                    prefix: '<p>A small HTML prefix</p>'
                    postfix: '<p>A small HTML postfix</p>'
                constraints: [ NotBlank, {Length: {'min': 3, 'max': 30}} ]
        name:
            type: text
            options:
                required: true
                label: Name
                attr:
                    placeholder: Your name...
                constraints: [ NotBlank, {Length: {'min': 3}} ]
        email:
            type: email
            options:
                required: true
                label: Email address
                attr:
                    placeholder: Your email...
                    class: myclass-email
                constraints: [ NotBlank, Email ]
        message:
            type: textarea
            options:
                required: true
                label: Your message
                attr:
                    placeholder: Well, the other day I was thinking that maybe you ought to improve your website by adding...
                    class: myclass-message
        pet_ownership:
            type: choice
            options:
                required: false
                label: Do you own a pet?
                choices: [ Yes, No ]
                multiple: false
        cutest_pet:
            type: choice
            options:
                required: false
                label: Which do you think are cutest?
                choices: { 'Fluffy Kittens': 'kittens', 'Cute Puppies': 'puppies' }
        contenttype_choice:
            type: choice
            options:
                required: false
                label: ContentType selection
                choices: content
                params:
                    contenttype: pages
                    label: title                    # Field name to get the lable value from
                    value: slug                     # Field name to get the underlying choice value from
                    limit: 3                        # Limit on the number of results returned
                    sort: title                     # Field name to sort on
                    order: ASC                      # Sorting direction, either "ASC" or "DESC"
                    where:
                        and: { 'koala': 'bear' }      # Field name "koala" with the value of "bear"
                        or: { 'koala': 'dangerous' }  # Field name "koala" with the value of "dangerous"
#        event:
#            type: choice
#            options:
#                required: false
#                label: What event would you like to attend?
#                choices: event # Will be dispatching on \Bolt\Extension\Bolt\BoltForms\Event\BoltFormsEvents::DATA_CHOICE_EVENT
#                multiple: false
#        event_custom:
#            type: choice
#            options:
#                required: false
#                label: What type of animal would you like to bring?
#                choices: event::your.custom.event.name # Will be dispatching on "your.custom.event.name"
#                multiple: false
#        choice_simple:
#            type: choice
#            options:
#                label: A very simple choice
#                choices: { 'Item One': 'item_1', 'Item Two': 'item_2' }
#        choice_traversable_choices_class:
#            type: choice
#            options:
#                required: false
#                label: Traversable choices class with "group_b" passed to the constructor
#                choices: Example\TraversableChoice::group_b
#                choice_label: Example\StaticChoice::choiceLabel
#        choice_static_choices_class:
#            type: choice
#            options:
#                required: false
#                label: Choices from the calls to a static class::function
#                choices: Example\StaticChoice::choices
#                choice_label: Example\StaticChoice::choiceLabel
#        choice_with_attrib:
#            type: choice
#            options:
#                label: HTML attributes added to each choice
#                choices: Example\StaticChoice::choices
#                choice_value: Example\StaticChoice::choiceValue
#                choice_label: Example\StaticChoice::choiceLabel
#                choice_attr: Example\StaticChoice::choiceAttr
#        group_simple:
#            type: choice
#            options:
#                label: Grouping Simple
#                choices:
#                    'Group Aye': { 'Item One': 'item_1', 'Item Two': 'item_2', }
#                    'Group Bee': { 'Item Eleven': 'item_11', 'Item Twelve': 'item_12' }
#        choice_group_callouts:
#            type: choice
#            options:
#                required: false
#                label: Grouping callouts
#                choices: Example\StaticChoice::choices
#                choice_label: Example\StaticChoice::choiceLabel
#                group_by: Example\StaticChoice::groupBy
#        choice_group_callouts_preferred_choices:
#            type: choice
#            options:
#                required: false
#                label: Grouping callouts with preferred choices
#                choices: Example\StaticChoice::choices
#                choice_label: Example\StaticChoice::choiceLabel
#                preferred_choices: Example\StaticChoice::preferredChoices
#                multiple: false
        upload:
            type: file
            options:
                required: false
                label: Picture of your pet that you want us to add to our site
        submit:
            type: submit
            options:
                label: Submit my message »
                attr:
                    class: button primary
#database:
#    contenttype: responses  # ContentType record to create
test:
    notification:
        enabled: false
        debug: false
    feedback:
        success: Form submission successful
        error: There are errors in the form, please fix before trying to resubmit
        redirect:
            target: contac/  # A page path, or URL
           # query: [ name, email ]     # Optional keys for the GET parameters
    database:
        contenttype:
            name: responses  # ContentType record to create
        #table: bolt_responses
        field_map:
            name: 'title'           # Form field "message" will be saved to the ContentType field "title"
            email: ~                # Do not try to save this field to the ContentType
            animal: 'animal'        # Form field "animal" will be saved to the ContentType field "animal"
            message: 'sent_message' # Form field "message" will be saved to the ContentType field "sent_message"
    fields:
        email:
            type: email
        name:
            type: text
            options:
                label: "Your name"
        animal:
            type: choice
            options:
                label: "Use your paw to select what you are"
                choices: { "I am a cat" : "I am a cat", "I am a raccoon" : "I am a raccoon", "I am a Koala" : "I am a Koala" }
                expanded: false
        message:
            type: textarea
        status: # Don't publish new record after submitting but leave that to the editor
            type: hidden
            options:
                label: false
                attr:
                    value: published
        submit:
            type: submit
            options:
                label: Submit my message »
                attr:
                    class: button primary
                    
create_tutorial:
    submission:
        ajax: false   
    notification:
        enable: true
        debug: false
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/create_entries
    database:
        contenttype: 
            name: tutorials
            #table: bolt_tutorials
        field_map:
            title: 'title'
            teaser: 'teaser'
            body: 'body'
            image: 'image'
            guid: 'guid'
        fields:
            image:
                type: image
    templates:
        form: /boltforms/templates/form/form.twig           
    fields:
        title:
            type: text
            options:
                required: true
        image:
            type: file
            options:
                required: false
        teaser:
            type: textarea
            options:
                required: true
        body:
            type: textarea
            options:
                required: true
        guid:
            type: hidden
            options:
                label: false
                attr:
                    value: guid
        status:
             type: hidden
             options:
                label: false
                attr:
                    value: published
        submit:
            type: submit
            options:
                label: create tutorial »
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;

create_entries:
    submission:
        ajax: false
    notification:
        enable: true
        debug: false
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/relation_entry_tutorial
    database:
        contenttype:
            name: entries
        field_map:
            title: 'title'
            body: 'body'
            image: 'image'
            video: 'video'
            tutorialid: 'tutorialid'
        fields:
            image:
                type: image
            video:
                type: video
    templates:
        form: /boltforms/templates/form/form.twig
    fields:
        title:
            type: text
        body:
            type: textarea
            options:
                required: true
        image:
            type: file
            options:
                required: false
                multiple: false
        video:
            type: file
            options:
                required: false
                multiple: true
                
        tutorialid:
            type: choice
            options: 
                required: true
                label: Entry related to which Tutorial
                choices: content
                params:
                    contenttype: tutorials
                    label: title
                    value: id
        status:
            type: hidden
            options:
                label: false
                attr:
                    value: published
        submit:
            type: submit    
            options:
                label: create Entry »
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;

relation:
    notification:
        enable: true
        debug: false
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/create_entries
    database:
        table: bolt_relations
        field_map:
            from_contenttype: 'from_contenttype'
            from_id: 'from_id'
            to_contenttype: 'to_contenttype'
            to_id: 'to_id'
    templates:
        form: /boltforms/templates/form/form.twig
        
    fields:
        from_contenttype:
            type: hidden
            options:
                label: false
                attr:
                    value: entries
                
                   
        from_id:
            type: choice
            options:
                required: true
                label: entry selection
                choices: content
                params:
                    contenttype: entries
                    label: title
                    value: id
                      
        to_contenttype:
            type: hidden
            options:
                label: false
                attr:
                    value: tutorials
                
                       
        to_id:
            type: choice
            options:
                required: true
                label: Tutorial selection
                choices: content
                params:
                    contenttype: tutorials
                    label: title
                    value: id
        submit:
            type: submit    
            options:
                label: create relation »
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;

create_quiz:
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/relation_quiz
    database:
        contenttype:
            name: create_quizes
        field_map:
            question: 'question'
            answer1: 'answer1'
            answer2: 'answer2'
            answer3: 'answer3'
            answer4: 'answer4'
            correct_answer: 'correct_answer'
            tutorialid: 'tutorialid'
    templates:
        form: /boltforms/templates/form/form.twig

    fields:
        question:
            type: text
            options:
                required: true
                label: Question
        answer1:
            type: text
            options:
                required: true
                label: Answer1
        answer2:
            type: text
            options:
                required: true
                label: Answer2
        answer3:
            type: text
            options:
                required: true
                label: Answer3
        answer4:
            type: text
            options:
                required: true
                label: Answer4
        correct_answer:
            type: choice
            options:
                required: true  
                label: the correct Answer is:
                choices: {'Answer1':'answer1','Answer2':'answer2','Answer3':'answer3','Answer4':'answer4'}
        tutorialid:
            type: choice
            options: 
                required: true
                label: question related to which Tutorial
                choices: content
                params:
                    contenttype: tutorials
                    label: title
                    value: id
        submit:
            type: submit    
            options:
                label: create relation »
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;

                    
relation_quiz_tutorial:
    notification:
        enable: true
        debug: false
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/create_quiz
    database:
        table: bolt_relations
        field_map:
            from_contenttype: 'from_contenttype'
            from_id: 'from_id'
            to_contenttype: 'to_contenttype'
            to_id: 'to_id'
    templates:
        form: /boltforms/templates/form/form.twig
        
    fields:
        from_contenttype:
            type: hidden
            options:
                label: false
                attr:
                    value: create_quizes
                
                   
        from_id:
            type: choice
            options:
                required: true
                label: Quiz selection
                choices: content
                params:
                    contenttype: create_quizes
                    label: question
                    value: id
                      
        to_contenttype:
            type: hidden
            options:
                label: false
                attr:
                    value: tutorials
                
                       
        to_id:
            type: choice
            options:
                required: true
                label: Tutorial selection
                choices: content
                params:
                    contenttype: tutorials
                    label: title
                    value: id
        submit:
            type: submit    
            options:
                label: create relation »
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;


abo:
    database:
        contenttype:
            name: abo
        fils_map:
            guid: 'guid'
            tutorialid: 'tutorialid'
    templates:
        form: /boltforms/templates/form/form.twig

    fields:
        guid:
            type: hidden
            options:
                label: false
                attr:
                    value: guid
        tutorialid:
            type: hidden
            options:
                label: false
                attr:
                    value: tid
        submit:
            type: submit    
            options:
                label: subscribe 
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;
quiz-answer:
    templates:
        form: /boltforms/templates/form/form.twig

    fields:
        answer:
            type: choice
            options:
                expanded: true
                multiple: true
                choices: {'Answer1':'answer1','Answer2':'answer2','Answer3':'answer3','Answer4':'answer4'}
        submit:
            type: submit    
            options:
                label: subscribe 
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;

upload_page:
    templates:    
        form: /boltforms/templates/form/form.twig
    submission:
        ajax: false
    notification:
        enable: true
        debug: false
    feedback:
        success: succeded
        error: there was an error
        redirect:
            target: /page/relation_entry_tutorial
    database:
        contenttype:
            name: upload
        field_map:
            pdf: 'pdf'
            tutorialid: 'tutorialid'
    fields:
        pdf:
            type: file
            options:
                label: 'File-Upload'
                required: false
                multiple: true
        tutorialid:
            type: choice
            options:
                required: true
                label: Tutorial selection
                choices: content
                params:
                    contenttype: tutorials
                    label: title
                    value: id
        status:
            type: hidden
            options:
                label: false
                attr:
                    value: published
        submit:
            type: submit    
            options:
                label: Upload File
                attr:
                    class: btn btn-light
                    style: padding-left:11px;margin-left:0px;margin-right:15px;
